{"language":"asp","engine":"dlv2","executor":"embAspServerExecutor","option":[{"name":"free choice","value":["--filter=noRelNet/4,noRelCad/4,posRelNet/5,posRelCad/5,compNonPresente/2,compInEccesso/2"]}],"runAuto":"on","tabname":["L P 1","L P 2","L P 3"],"program":["net(\"20\",1,163,164,184,207). \r\nnet(\"23\",2,229,173,252,204). \r\nnet(\"24\",3,258,207,277,227). \r\nnet(\"17\",4,166,108,260,120). \r\nnet(\"14\",5,146,100,155,128). \r\nnet(\"22\",6,202,163,224,209). \r\nnet(\"19\",7,149,153,163,207). \r\nnet(\"13\",8,132,106,147,119). \r\nnet(\"23\",9,236,175,253,197). \r\nnet(\"21\",10,188,172,205,198). \r\nnet(\"14\",11,136,101,157,126). \r\nnet(\"23\",12,226,172,246,197). \r\n","cad(\"13\", 0, 358, 126, 397, 202).\r\ncad(\"18\", 6, 359, 292, 400, 483).\r\ncad(\"18\", 7, 404, 294, 439, 485).\r\ncad(\"13\", 1, 405, 125, 444, 204).\r\ncad(\"19\", 8, 443, 294, 480, 485).\r\ncad(\"14\", 2, 447, 120, 468, 212).\r\ncad(\"15\", 3, 472, 139, 480, 203).\r\ncad(\"19\", 9, 486, 295, 524, 482).\r\ncad(\"16\", 4, 488, 140, 505, 202).\r\ncad(\"17\", 5, 512, 132, 780, 197).\r\ncad(\"20\", 10, 532, 344, 589, 465).\r\ncad(\"21\", 11, 592, 360, 632, 455).\r\ncad(\"22\", 12, 637, 345, 698, 476).\r\ncad(\"23\", 13, 706, 359, 760, 450).\r\ncad(\"24\", 14, 784, 449, 838, 506).\r\ncad(\"25\", 15, 789, 289, 817, 406).\r\ncad(\"25\", 16, 824, 292, 842, 404).\r\n","%schema componente(Label, Id, Bottom_Left_Xs, Bottom_Left_Ys, Top_Right_Xd, Top_Right_Yd)\r\n%schema posizioneRelativa(Label_1, ID_1, Label_2, ID_2, Position)\r\n\r\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n\r\nposRelAllCad(C1, ID1, C2, ID2, left) :- cad(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                        cad(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                        ID1 <> ID2,\r\n                                        Xd2 > Xd1,\r\n                                        inLevelCad(C1, ID1, C2, ID2, horizontal).\r\n                                    \r\nsomethingInTheMiddleCad(C1, ID1, C3, ID3, left) :-  posRelAllCad(C1, ID1, C2, ID2, left),\r\n        \t\t\t\t\t\t\t\t            cad(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                                    cad(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                                    cad(C3, ID3, Xs3, Ys3, Xd3, Yd3),\r\n                                                    ID1 <> ID2, ID3 <> ID2, ID3 <> ID1,\r\n                                                    Xd2 > Xd1,\r\n                                                    Xd3 > Xd2,\r\n                                                    inLevelCad(C1, ID1, C3, ID3, horizontal),\r\n                                                    inLevelCad(C1, ID1, C2, ID2, horizontal).\r\n\r\nposRelCad(C1, ID1, C2, ID2, left):- posRelAllCad(C1, ID1, C2, ID2, left), not somethingInTheMiddleCad(C1, ID1, C2, ID2, left).\r\n\r\n\r\n%Components in Levels\r\ninLevelCad(C1, ID1, C2, ID2, horizontal) :-     cad(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                                cad(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                                ID1 <> ID2,\r\n                                                Ys1 <= Yd2, Yd1 >= Ys2.\r\n\r\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n\r\nposRelAllNet(C1, ID1, C2, ID2, left) :-     net(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                            net(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                            ID1 <> ID2,\r\n                                            Xd2 > Xd1,\r\n                                            inLevelNet(C1, ID1, C2, ID2, horizontal).\r\n                                    \r\nsomethingInTheMiddleNet(C1, ID1, C3, ID3, left) :-      posRelAllNet(C1, ID1, C2, ID2, left),\r\n            \t\t\t\t\t\t\t\t            net(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                                        net(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                                        net(C3, ID3, Xs3, Ys3, Xd3, Yd3),\r\n                                                        ID1 <> ID2, ID3 <> ID2, ID3 <> ID1,\r\n                                                        Xd2 > Xd1,\r\n                                                        Xd3 > Xd2,\r\n                                                        inLevelNet(C1, ID1, C3, ID3, horizontal),\r\n                                                        inLevelNet(C1, ID1, C2, ID2, horizontal).\r\n\r\nposRelNet(C1, ID1, C2, ID2, left):- posRelAllNet(C1, ID1, C2, ID2, left), not somethingInTheMiddleNet(C1, ID1, C2, ID2, left).\r\n\r\n\r\n%Components in Levels\r\ninLevelNet(C1, ID1, C2, ID2, horizontal) :-     net(C1, ID1, Xs1, Ys1, Xd1, Yd1),\r\n                                                net(C2, ID2, Xs2, Ys2, Xd2, Yd2),\r\n                                                ID1 <> ID2,\r\n                                                Ys1 <= Yd2, Yd1 >= Ys2.\r\n\r\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n\r\n%Componenti che sono presenti nel CAD ma non nella RETE\r\ncompNonPresente(X, Id) :- cad(X, Id, _, _, _, _), not netAux(X).\r\nnetAux(X) :- net(X, _, _, _, _, _).\r\n%compNonPresente(X, Id) :- not #count{X,Id : cad(X, Id, _, _, _, _)} < countNet.\r\n%countNet = {#count{X : net(X, _, _, _, _, _)}}.\r\n\r\n\r\n%Componenti che sono presenti nella RETE ma non nel CAD\r\ncompInEccesso(X, Id) :- net(X, Id, _, _, _, _), not cadAux(X).\r\ncadAux(X) :- cad(X, _, _, _, _, _).\r\n%compInEccesso(X, Id) :- not #count{X,Id : net(X, Id, _, _, _, _)} < countCad.\r\n%countCad = {#count{X : cad(X, Id, _, _, _, _)}}.\r\n\r\n\r\n%Identifica le relazioni che sono presenti tra due componenti nella RETE ma non nel CAD\r\nnoRelCad(X, Id1, Y, Id2) :- not #count{X,Y : posRelCad(X, _, Y, _, _)} >= 1, posRelNet(X, Id1, Y, Id2, _).\r\n\r\n%Identifica le relazioni che sono presenti tra due componenti nel CAD ma non nella RETE\r\nnoRelNet(X, Id1, Y, Id2) :- not #count{X,Y : posRelNet(X, _, Y, _, _)} >= 1, posRelCad(X, Id1, Y, Id2, _).\r\n\r\n%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\r\n% TODO: fix per erroreCad e erroreNet\r\n\r\n% Di seguito N e C fanno riferimento agli ID !!!!!!!\r\n\r\n% Identificazione del componente successivo\r\nsuccCad(C1, C2):- posRelCad(_, C1, _, C2, _).\r\nsuccNet(N1, N2):- posRelNet(_, N1, _, N2, _).\r\n\r\n% GUESS di tutti i possibili match tra i grafi\r\nmatch(N,C) | nMatch(N,C) :- net(_, N, _, _, _, _),cad(_, C, _, _, _, _).\r\n\r\n:- #count{ N : match(N,C) }= 1, cad(_, C, _, _, _, _).\r\n:- #count{ C : match(N,C) }= 1, net(_, N, _, _, _, _).\r\n\r\n\r\n% Non è possibile che ci sia un match tra due componenti che non abbiano la stessa label\r\n:- net(L1, N, _, _, _, _), cad(L2,C,  _, _, _, _), match(N,C), L1!=L2.\r\n\r\n% Non è possibile che due componenti individuati come successivi \r\n% e che fanno un match nella RETE non lo siano nel CAD e viceversa\r\n:- succNet(N1,N2),  not succCad(C1,C2), match(N1,C1), match(N2,C2).\r\n:- not succNet(N1,N2), succCad(C1,C2), match(N1,C1), match(N2,C2).\r\n\r\nerroreNet(N1):- net(_,N1,_,_,_,_), not matchAux(N1).\r\nmatchAux(N1):- match(N1,_).\r\n\r\n%erroreCad(C1):- cad(_,C1,_,_,_,_), not matchAuxCad(C1).\r\n%matchAuxCad(C1):- match(_,C1).\r\n\r\n\r\n:~ nMatch(X,Y). [1@1,X,Y]\r\n"],"output_model":"ANSWER\ncompNonPresente(\"18\",6). compNonPresente(\"18\",7). compNonPresente(\"15\",3). compNonPresente(\"16\",4). compNonPresente(\"25\",15). compNonPresente(\"25\",16). posRelCad(\"20\",10,\"21\",11,left). posRelCad(\"21\",11,\"22\",12,left). posRelCad(\"16\",4,\"17\",5,left). posRelCad(\"19\",9,\"20\",10,left). posRelCad(\"13\",1,\"14\",2,left). posRelCad(\"22\",12,\"23\",13,left). posRelCad(\"25\",15,\"25\",16,left). posRelCad(\"19\",8,\"19\",9,left). posRelCad(\"14\",2,\"15\",3,left). posRelCad(\"15\",3,\"16\",4,left). posRelCad(\"18\",7,\"19\",8,left). posRelCad(\"13\",0,\"13\",1,left). posRelCad(\"18\",6,\"18\",7,left). posRelCad(\"23\",13,\"25\",15,left). posRelNet(\"14\",11,\"17\",4,left). posRelNet(\"19\",7,\"20\",1,left). posRelNet(\"22\",6,\"23\",12,left). posRelNet(\"14\",5,\"14\",11,left). posRelNet(\"21\",10,\"22\",6,left). posRelNet(\"23\",12,\"23\",2,left). posRelNet(\"13\",8,\"14\",5,left). posRelNet(\"20\",1,\"21\",10,left). posRelNet(\"23\",2,\"23\",9,left). noRelNet(\"16\",4,\"17\",5). noRelNet(\"25\",15,\"25\",16). noRelNet(\"19\",8,\"19\",9). noRelNet(\"14\",2,\"15\",3). noRelNet(\"15\",3,\"16\",4). noRelNet(\"18\",7,\"19\",8). noRelNet(\"13\",0,\"13\",1). noRelNet(\"18\",6,\"18\",7). noRelNet(\"23\",13,\"25\",15). noRelCad(\"14\",11,\"17\",4). noRelCad(\"14\",5,\"14\",11). noRelCad(\"23\",12,\"23\",2). noRelCad(\"23\",2,\"23\",9).\nCOST 204@1\nOPTIMUM\n","output_error":"","tab":["editor1","editor2","editor3"]}